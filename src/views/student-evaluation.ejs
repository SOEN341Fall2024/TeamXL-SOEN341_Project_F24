<%- include('partials/student-header', { title: 'Student Search Results', headerTitle: 'Student Search Results' }) %>
<style>
    /* Black Gradient background for the title banner */
    .title-banner {
        background: linear-gradient(135deg, #222529, #222529);
        color: white; 
        padding: 30px;
        margin-bottom: 40px;
        text-align: center;
        border-radius: 8px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    } 

    /* Main container styling */ 
    .container2 {
        margin-top: 50px;
         width: 100%; /* Make the main container full-width */
        max-width: 900px; /* Limit the width to avoid stretching too much on larger screens */
        padding: 30px;
        background-color: #f9f9f9;
        border-radius: 10px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); 
    }

    /* Criterion box styling */ 
    .criterion-box {
         width: 100%; 
        max-width: 850px; 
        margin: 0 auto; 
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 30px;
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center; 
    }
    .criterion-box h4 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: #222529;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); 
    }

    /* Rating system */
    .rating {
        display: flex;
        justify-content: center;
        max-width: 300px;
        margin: 0 auto;
        flex-direction: row-reverse;
    }
    .rating label { 
        cursor: pointer;
        font-size: 1.5rem;
        transition: color 0.3s ease;
    }
    .rating input {
        display: none;
    }
    .rating label::before {
        content: "â˜…";
        color: lightgray;
        transition: color 0.3s ease;
    }
    .rating label:hover::before,
    .rating label:hover ~ label::before,
    .rating input:checked ~ label::before {
        color: gold;
    }

    /* Additional Comments Styling */
    .form-section {
        margin-bottom: 50px; /* Adds extra space below the comments box */
    }

    /* Warning message styling */
    .warning {
        color: red;
        font-size: 0.9rem;
        display: none; 
        margin-top: 5px;
    }

        /* Error message style */
    .error-message {
        color: red;
        font-weight: bold;
    }
</style>

<div class=" d-flex justify-content-center" >
    <!-- Main Content -->
    <div class="container2 ">
        
        <!-- Evaluation Form -->
       <form action="/submit-evaluation" method="POST" onsubmit="validateForm(event)">
            
            <!-- Cooperation Criterion Box -->
            <div class="criterion-box"> 
                <h4>Cooperation</h4>
                <div class="rating">
                    <input type="radio" id="coop-5" name="cooperation" value="5">
                    <label for="coop-5"></label>
                    <input type="radio" id="coop-4" name="cooperation" value="4">
                    <label for="coop-4"></label>
                    <input type="radio" id="coop-3" name="cooperation" value="3">
                    <label for="coop-3"></label>
                    <input type="radio" id="coop-2" name="cooperation" value="2">
                    <label for="coop-2"></label>
                    <input type="radio" id="coop-1" name="cooperation" value="1">
                    <label for="coop-1"></label>
                </div>
                <p id="coop-warning" class="warning">Please select a rating for Cooperation.</p>
                <!-- New comment box for Cooperation -->
                <label for="coop-comments" class="form-label">Comments on Cooperation</label>
                <textarea class="form-control" id="cooperation_comments" name="cooperation_comments" rows="3" placeholder="feedback on Cooperation..."></textarea>
                <div id="cooperation-error" class="error-message" style="display: none;">You must complete the Cooperation section.</div>
            </div>

            <!-- Conceptual Contribution Criterion Box -->
            <div class="criterion-box">
                <h4>Conceptual Contribution</h4>
                <div class="rating">
                    <input type="radio" id="concept-5" name="conceptual_contribution" value="5" >
                    <label for="concept-5"></label>
                    <input type="radio" id="concept-4" name="conceptual_contribution" value="4" >
                    <label for="concept-4"></label>
                    <input type="radio" id="concept-3" name="conceptual_contribution" value="3" >
                    <label for="concept-3"></label>
                    <input type="radio" id="concept-2" name="conceptual_contribution" value="2" >
                    <label for="concept-2"></label>
                    <input type="radio" id="concept-1" name="conceptual_contribution" value="1" >
                    <label for="concept-1"></label>
                </div>
                <p id="concept-warning" class="warning">Please select a rating for Conceptual Contribution.</p>
                <!-- New comment box for Conceptual Contribution -->
                <label for="concept-comments" class="form-label">Comments on Conceptual Contribution</label>
                <textarea class="form-control" id="conceptual_comments" name="conceptual_comments" rows="3" placeholder="feedback on Conceptual Contribution..."></textarea>
                <div id="conceptual-contribution-error" class="error-message" style="display: none;">You must complete the Conceptual Contribution section.</div>
            </div>

            <!-- Practical Contribution Criterion Box -->
            <div class="criterion-box">
                <h4>Practical Contribution</h4>
                <div class="rating">
                    <input type="radio" id="practical-5" name="practical_contribution" value="5">
                    <label for="practical-5"></label>
                    <input type="radio" id="practical-4" name="practical_contribution" value="4">
                    <label for="practical-4"></label>
                    <input type="radio" id="practical-3" name="practical_contribution" value="3">
                    <label for="practical-3"></label>
                    <input type="radio" id="practical-2" name="practical_contribution" value="2">
                    <label for="practical-2"></label>
                    <input type="radio" id="practical-1" name="practical_contribution" value="1">
                    <label for="practical-1"></label>
                </div>
                <p id="practical-warning" class="warning">Please select a rating for Practical Contribution.</p>
                <!-- New comment box for Practical Contribution -->
                <label for="practical-comments" class="form-label">Comments on Practical Contribution</label>
                <textarea class="form-control" id="practical-comments" name="practical_comments" rows="3" placeholder="feedback on Practical Contribution..."></textarea>
                <div id="practical-contribution-error" class="error-message" style="display: none;">You must complete the Practical Contribution section.</div>
            </div>

            <!-- Work Ethic Criterion Box -->
            <div class="criterion-box">
                <h4>Work Ethic</h4>
                <div class="rating">
                    <input type="radio" id="ethic-5" name="work_ethic" value="5">
                    <label for="ethic-5"></label>
                    <input type="radio" id="ethic-4" name="work_ethic" value="4">
                    <label for="ethic-4"></label>
                    <input type="radio" id="ethic-3" name="work_ethic" value="3">
                    <label for="ethic-3"></label>
                    <input type="radio" id="ethic-2" name="work_ethic" value="2">
                    <label for="ethic-2"></label>
                    <input type="radio" id="ethic-1" name="work_ethic" value="1">
                    <label for="ethic-1"></label>
                </div>
                <p id="ethic-warning" class="warning">Please select a rating for Work Ethic.</p>
                <!-- New comment box for Work Ethic -->
                <label for="ethic-comments" class="form-label">Comments on Work Ethic</label>
                <textarea class="form-control" id="work_ethic_comments" name="work_ethic_comments" rows="3" placeholder="feedback on Work Ethic..."></textarea>
                <div id="work-ethic-error" class="error-message" style="display: none;">You must complete the Work Ethic section.</div>
            </div>

                        <!-- Additional Comments (Optional) -->
            <div class="form-section text-center mb-5"> 
                <label for="comments" class="form-label">Overall Comments </label>
                <textarea class="form-control" id="comments" name="comments" rows="4" placeholder="Write any feedback here..."></textarea>
            </div>

            <!-- Submit Button --> 
            <div class="text-center mb-5">
                <button type="submit" class="btn btn-primary">Submit Evaluation</button>
            </div>
        </form>
    </div> 
    </div>


<script>
    // Attach event listener to form submission
    document.querySelector('form').addEventListener('submit', function(event) {
        let isValid = true;

        // Sections to validate
        const sections = [
            { name: 'cooperation', errorId: 'cooperation-error' },
            { name: 'conceptual_contribution', errorId: 'conceptual-contribution-error' },
            { name: 'practical_contribution', errorId: 'practical-contribution-error' },
            { name: 'work_ethic', errorId: 'work-ethic-error' }
        ]; 

        // Loop through each section to check if it has a rating
        sections.forEach(section => {
            const selectedRadio = document.querySelector(`input[name="${section.name}"]:checked`);
            const errorElement = document.getElementById(section.errorId);

            if (!selectedRadio) {
                // Show error message if no radio button is selected
                isValid = false;
                errorElement.style.display = 'block';
            } else {
                // Hide error message if a radio button is selected
                errorElement.style.display = 'none';
            }
        });

        // Prevent form submission if validation fails
        if (!isValid) {
            event.preventDefault();
        }
    });
</script>



  
<%- include('partials/footer') %> 



