<%- include('partials/student-header', { title: 'Profile', headerTitle: 'Profile' }) %>

<div class="container my-5">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10">
        <!-- Edit Profile Card -->
        <div class="card shadow-lg border-0">
           <!-- Header -->
        <div class="card-header bg-gradient text-white text-center py-4" style="background-color: #DC3545;">
            <h3 class="mb-0">Your Profile</h3>
            <p class="mb-0 fs-6">View and manage your account details</p>
          </div>
  
          <!-- Form Body -->
          <div class="card-body py-4">
            <form id="editProfileForm" method="POST" action="/edit-profile" class="needs-validation" novalidate>
              <div class="row g-4">
                <!-- First Name -->
                <div class="col-md-6">
                  <label for="firstName" class="form-label text-muted">First Name</label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="firstName" 
                    name="firstName" 
                    value="<%= profile?.first_name || '' %>" 
                    required>
                  <div class="invalid-feedback">
                    Valid first name is required.
                  </div>
                </div>
  
                <!-- Last Name -->
                <div class="col-md-6">
                  <label for="lastName" class="form-label text-muted">Last Name</label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="lastName" 
                    name="lastName" 
                    value="<%= profile?.last_name || '' %>" 
                    required>
                  <div class="invalid-feedback">
                    Valid last name is required.
                  </div>
                </div>
  
                <!-- Email -->
                <div class="col-md-12">
                  <label for="email" class="form-label text-muted">Email</label>
                  <input 
                    type="email" 
                    class="form-control" 
                    id="email" 
                    name="email" 
                    value="<%= profile?.email || '' %>">
                  <div class="invalid-feedback">
                    Please enter a valid email address.
                  </div>
                </div>
  
                <!-- Address -->
                <div class="col-md-12">
                  <label for="address" class="form-label text-muted">Address</label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="address" 
                    name="address" 
                    value="<%= profile?.address || '' %>" 
                    required>
                  <div class="invalid-feedback">
                    Please enter your address.
                  </div>
                </div>
  
                <!-- Address 2 -->
                <div class="col-md-12">
                  <label for="address2" class="form-label text-muted">Address 2 <span class="text-muted">(Optional)</span></label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="address2" 
                    name="address2" 
                    value="<%= profile?.address2 || '' %>">
                </div>
  
                <!-- Province -->
                <div class="col-md-6">
                  <label for="province" class="form-label text-muted">Province</label>
                  <select class="form-select" id="province" name="province" required>
                    <option value="" <%= !profile?.province ? 'selected' : '' %>>Choose...</option>
                    <% ['Alberta', 'British Columbia', 'Manitoba', 'New Brunswick', 'Newfoundland and Labrador', 
                        'Nova Scotia', 'Ontario', 'Prince Edward Island', 'Quebec', 'Saskatchewan'].forEach(prov => { %>
                      <option value="<%= prov %>" <%= profile?.province === prov ? 'selected' : '' %>><%= prov %></option>
                    <% }) %>
                  </select>
                  <div class="invalid-feedback">
                    Please select a valid province.
                  </div>
                </div>
  
                <!-- Zip Code -->
                <div class="col-md-6">
                  <label for="zip" class="form-label text-muted">Zip Code</label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="zip" 
                    name="zip" 
                    value="<%= profile?.zip || '' %>" 
                    required>
                  <div class="invalid-feedback">
                    Zip code is required.
                  </div>
                </div>
              </div>
  
              <!-- Submit Button -->
              <div class="text-center mt-4">
                <button type="submit" class="btn btn-warning btn-lg shadow-sm">
                  Save Changes <i class="bi bi-save ms-2"></i>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
>

<%- include('partials/footer') %>